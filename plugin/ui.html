<div>
    <h3>Choose Screens to export</h3>
    <p>Anything that is a frame can be exported</p>

    <p>
        <code>Number of selected frames: <span id="selected-frames-count">0</span></code>
    </p>
    <p>
        <code>Their Frame IDs are: <span id="selected-frames-ids">_</span></code>
    </p>

    <div><button type="button" id="export">Export selected</button></div>
</div>

<script>
    const exportBtn = document.getElementById('export')
    const framesCountEl = document.getElementById('selected-frames-count')
    const frameIdsDisplayEl = document.getElementById('selected-frames-ids')

    let frameIds = []

    onmessage = event => {
        const { type, payload: payload } = event.data.pluginMessage

        if (type !== 'frame-select') {
            return
        }

        frameIds = payload.map(f => f.id)

        framesCountEl.textContent = frameIds.length
        frameIdsDisplayEl.textContent = frameIds.join(', ')
    }
</script>
