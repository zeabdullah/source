<div class="mb-16 flex items-end justify-between gap-4">
    <p class="max-w-[55ch]">
        A
        <strong>release</strong>
        in Source is a snapshot of your product's experience. screens, flows, emails, and campaigns
        - captured at a moment in time. Compare, track, and share how your product evolves.
    </p>
    @if (releases.length > 0) {
    <p-button
        label="New Release"
        icon="pi pi-plus"
        iconPos="left"
        class="shrink-0"
        (onClick)="openNewReleaseDialog()"
    />
    }
</div>

@if (releases.length === 0) {
<div class="flex flex-col items-center justify-center gap-6 py-16">
    <div class="flex h-32 w-32 items-center justify-center rounded-full bg-brand-100">
        <i class="pi pi-list-check text-h1 text-brand-700 opacity-60"></i>
    </div>

    <div class="text-center">
        <h2 class="mb-4 text-h3 font-bold">No releases yet</h2>
        <p class="text-lg max-w-[35ch]">Get started by creating your very first release.</p>
    </div>

    <p-button
        icon="pi pi-plus"
        label="New Release"
        size="large"
        (onClick)="openNewReleaseDialog()"
    />
</div>
} @else {
<section class="grid grid-cols-1 gap-6">
    @for (release of releases; track release.version) {
    <app-release-card [release]="release" />
    }
</section>
}

<app-new-release-dialog
    [visible]="showNewReleaseDialog()"
    (visibleChange)="onDialogVisibleChange($event)"
    (onNewRelease)="addNewRelease($event)"
/>

<p-toast position="bottom-right" />
