<div class="mb-16 flex items-end justify-between gap-4">
    <p class="max-w-[55ch]">
        A
        <strong>release</strong>
        in Source is a snapshot of your product's experience. screens, flows, emails, and campaigns
        - captured at a moment in time. Compare, track, and share how your product evolves.
    </p>
    @if (releases().length > 0) {
        <p-button
            label="New Release"
            icon="pi pi-plus"
            iconPos="left"
            class="shrink-0"
            (onClick)="openNewReleaseDialog()"
        />
    }
</div>
@if (isLoading()) {
    <div class="flex justify-center py-12">
        <p-progressSpinner />
    </div>
} @else {
    <section class="grid grid-cols-1 gap-6">
        @for (release of releases(); track release.id) {
            <app-release-card [release]="release" />
        } @empty {
            <app-empty-state
                icon="pi-list-check"
                title="No releases yet"
                subtitle="Get started by creating your very first release."
            >
                <p-button
                    icon="pi pi-plus"
                    label="New Release"
                    size="large"
                    (onClick)="openNewReleaseDialog()"
                />
            </app-empty-state>
        }
    </section>
}

<app-new-release-dialog
    [visible]="showNewReleaseDialog()"
    [projectId]="projectId()"
    (visibleChange)="onDialogVisibleChange($event)"
    (onNewRelease)="addNewRelease($event)"
/>

<p-toast position="bottom-right" />
